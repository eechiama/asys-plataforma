actualizado: v5.5

/*********************************************/
 Protocolo de comunicación: MATLAB y HARDWARE
/*********************************************/

Nota:	Mientras el hardware (puede ser cualquiera) utilizado cumpla con este protocolo, el script de Matlab servirá para dicho hardware.


Recepción de muestras (respuesta del dispositivo)
-------------------------------------------------

#ML$

Donde:

M:	(1byte) es el byte más significativo de la muestra.
L:	(1byte) es el byte menos significativo de la muestra.



Control y configuración del muestreo
------------------------------------


$M0#	Detiene el muestreo
$M1#	Comienza el muestreo

$C,XXXX.#	Indica al hardware la frecuencia de muestreo XXXX. XXXX pueden ser 2, 3 o 4 dígitos.	(No implementado en Arduino aún)
$I,X.#		Indica al hardware la entrada a utilizar para el ADC. (0, 1 o 2).			(No implementado en Arduino aún)



Pedido de señales de prueba
---------------------------

$T1#	Pide la señal de prueba 1. (ecg1)
$T2#	Pide la señal de prueba 2. (ecg2)
$T3#	Pide la señal de prueba 3. (ecg2 + rand(1,5))		(No implementada en el kit Infotronic aún)



/*******************************/
 Sobre el muestreo y la mediana
/*******************************/

Tanto el código para el Cortex M3 como para el Arduino tienen implementada la posibilidad de enviar muestras como son obtenidas, o habiendo realizado calculado la mediana de ellas.

Esto está determinado en el código de los micros por una constante llamada SIZE. Se encuentra en:
- Cortex M3: archivo "PR_ADC.h".
- Arduino:   archivo "constantes.h".

Este código se distribuye por default con esta constante en 1, por lo que las muestras enviadas son las obtenidas (no se realiza la mediana).

En caso de querer obtener muestras habiendo realizado la mediana, se debe modificar esta constante por la cantidad de muestras que se quieran considerar para la mediana. Por ejemplo, si queremos realizar una mediana cada 10 muestras:
#define SIZE	10

Además, debe modificarse en el Script de Matlab la variable info.MedianaSize para que tenga el mismo valor y así se grafiquen correctamente
las muestras obtenidas. Esta variable se encuentra al comiendo del script principal.


MUY IMPORTANTE:
---------------

 !! Si SIZE no es 1, debe ser un número par >= 4 !!

Esto es debido a que se implementa la mediana para números pares (promedio de la suma de los valores centrales).




